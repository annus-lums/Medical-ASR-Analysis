(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9467:function(e,t,s){Promise.resolve().then(s.bind(s,8825))},8825:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var a=s(7437),r=s(2265),l=s(4401),n=s(525),i=s(2252),d=s(1723),o=s(11),c=s(1706),x=s(4988),m=e=>{let{title:t,value:s,icon:r,gradient:l,tooltip:n}=e;return(0,a.jsxs)("div",{className:"".concat(l," rounded-xl p-6 text-white shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-2xl relative group cursor-help"),children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,a.jsx)("div",{className:"bg-white/20 p-3 rounded-lg backdrop-blur-sm",children:r})}),(0,a.jsx)("h3",{className:"text-3xl font-bold mb-1",children:s}),(0,a.jsx)("p",{className:"text-sm opacity-90",children:t}),(0,a.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10",children:[n,(0,a.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]})},h=s(7625),u=s(3446),g=s(6940),p=s(7059),f=s(2994),j=s(5742),b=s(8147),v=s(6583),y=e=>{var t;let{data:s,xKey:l,yKey:n,xLabel:i,yLabel:d}=e,[o,c]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{c(!0)},[]),!o)return(0,a.jsx)("div",{className:"w-full h-[300px] flex items-center justify-center text-gray-500",children:"Loading chart..."});let x=(null===(t=s[l])||void 0===t?void 0:t.map((e,t)=>{var a;return{x:e,y:s[n][t],text:(null===(a=s.pred_text)||void 0===a?void 0:a[t])||""}}))||[];"duration_sec"===l&&(x=x.filter(e=>e.x<=400)),"wer"===n&&(x=x.filter(e=>e.y<=5));let m=x,y=!1;if(x.length>5e3){y=!0;let e=Math.ceil(x.length/5e3);m=x.filter((t,s)=>s%e==0)}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.h,{width:"100%",height:300,children:(0,a.jsxs)(u.G,{children:[(0,a.jsx)(g.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,a.jsx)(p.K,{type:"number",dataKey:"x",name:i,label:{value:i,position:"insideBottom",offset:-5},stroke:"#6b7280"}),(0,a.jsx)(f.B,{type:"number",dataKey:"y",name:d,label:{value:d,angle:-90,position:"insideLeft"},stroke:"#6b7280"}),(0,a.jsx)(j.d,{range:[30,30]}),(0,a.jsx)(b.u,{cursor:{strokeDasharray:"3 3"},content:e=>{let{active:t,payload:s}=e;return t&&s&&s.length?(0,a.jsxs)("div",{className:"bg-white p-3 border-2 border-gray-200 rounded-lg shadow-lg",children:[(0,a.jsxs)("p",{className:"text-sm font-semibold text-gray-800",children:[i,":"," ","number"==typeof s[0].value?s[0].value.toFixed(3):s[0].value]}),(0,a.jsxs)("p",{className:"text-sm font-semibold text-gray-800",children:[d,":"," ","number"==typeof s[1].value?s[1].value.toFixed(3):s[1].value]}),s[0].payload.text&&(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1 max-w-xs truncate",children:s[0].payload.text})]}):null}}),(0,a.jsx)(v.b,{data:m,fill:"#667eea",fillOpacity:.6})]})}),y&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["Showing ",m.length.toLocaleString()," of"," ",x.length.toLocaleString()," data points for performance"]})]})},N=s(7031),w=s(1699),_=e=>{let{data:t,xLabel:s,color:l="#4facfe"}=e,[n,i]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{i(!0)},[]),!n)return(0,a.jsx)("div",{className:"w-full h-[300px] flex items-center justify-center text-gray-500",children:"Loading chart..."});let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;if(0===e.length)return[];let s=Math.min(...e),a=(Math.max(...e)-s)/t,r=[];for(let l=0;l<t;l++){let t=s+l*a,n=t+a,i=e.filter(e=>e>=t&&e<n).length;r.push({range:"".concat(t.toFixed(2)," - ").concat(n.toFixed(2)),count:i,x:t})}return r}(t);return(0,a.jsx)(h.h,{width:"100%",height:300,children:(0,a.jsxs)(N.v,{data:d,children:[(0,a.jsx)(g.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,a.jsx)(p.K,{dataKey:"x",tickFormatter:e=>e.toFixed(2),label:{value:s,position:"insideBottom",offset:-5},stroke:"#6b7280"}),(0,a.jsx)(f.B,{label:{value:"Count",angle:-90,position:"insideLeft"},stroke:"#6b7280"}),(0,a.jsx)(b.u,{content:e=>{let{active:t,payload:s}=e;return t&&s&&s.length?(0,a.jsxs)("div",{className:"bg-white p-3 border-2 border-gray-200 rounded-lg shadow-lg",children:[(0,a.jsxs)("p",{className:"text-sm font-semibold text-gray-800",children:["Range: ",s[0].payload.range]}),(0,a.jsxs)("p",{className:"text-sm font-semibold text-gray-800",children:["Count: ",s[0].value]})]}):null}}),(0,a.jsx)(w.$,{dataKey:"count",fill:l,radius:[8,8,0,0]})]})})},M=e=>{let{data:t,filter:s,onFilterChange:l}=e,[n,i]=r.useState(!1),[d,o]=r.useState([]),c=()=>t.wer&&0!==t.wer.length?t.wer.map((e,s)=>{var a,r;return{wer:e,pred:(null===(a=t.pred_text)||void 0===a?void 0:a[s])||"",gt:(null===(r=t.gt_text)||void 0===r?void 0:r[s])||"",index:s}}).filter(e=>"high"===s?e.wer>=.5:"medium"===s?e.wer>=.2&&e.wer<.5:e.wer<.2).slice(0,5):[];return r.useEffect(()=>{i(!0);let e=setTimeout(()=>{o(c()),i(!1)},100);return()=>clearTimeout(e)},[s,t]),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Error Examples"}),(0,a.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:border-primary-500 focus:outline-none transition-colors text-gray-700 bg-white mb-4",children:[(0,a.jsx)("option",{value:"high",children:"High WER (≥ 0.5)"}),(0,a.jsx)("option",{value:"medium",children:"Medium WER (0.2 – 0.5)"}),(0,a.jsx)("option",{value:"low",children:"Low WER (< 0.2)"})]}),(0,a.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto relative",children:n?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 gap-3",children:[(0,a.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-primary-600 border-t-transparent rounded-full"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Loading examples..."})]}):0===d.length?(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"No examples found for this filter."}):d.map((e,t)=>(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border-l-4 border-primary-500",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsxs)("span",{className:"text-sm font-bold text-primary-600",children:["WER: ",e.wer.toFixed(3)]})}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-semibold text-gray-700",children:["Predicted:"," "]}),(0,a.jsxs)("span",{className:"text-gray-600",children:[e.pred.slice(0,100),"..."]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-semibold text-gray-700",children:["Ground Truth:"," "]}),(0,a.jsxs)("span",{className:"text-gray-600",children:[e.gt.slice(0,100),"..."]})]})]})]},t))})]})},S=e=>{let{features:t,selectedFeature:s,onFeatureChange:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Select Feature"}),(0,a.jsx)("select",{value:s,onChange:e=>r(e.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:border-primary-500 focus:outline-none transition-colors text-gray-700 bg-white",children:t.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]})},R=s(8676),W=s.n(R);function E(){let[e,t]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0),[d,o]=(0,r.useState)([]),[c,x]=(0,r.useState)(null),m=(0,r.useRef)(null),h=["#667eea","#764ba2","#f093fb","#4facfe","#00f2fe","#43e97b","#38f9d7","#fa709a","#fee140","#30cfd0"];return((0,r.useEffect)(()=>{t(!0),fetch("/data/term_error_analysis.json").then(e=>e.json()).then(e=>{l(e),i(!1)}).catch(e=>{console.error("Error loading term error data:",e),i(!1)})},[]),(0,r.useEffect)(()=>{if(!s||!e)return;let t=s.top_missed_terms_rare.slice(0,50).map(e=>({text:e.term,size:Math.max(24,Math.min(96,6*e.missed_count)),missed_count:e.missed_count,total_occurrences:e.total_occurrences,miss_rate:e.miss_rate}));W()().size([1200,600]).words(t).padding(3).rotate(()=>Math.random()>.6?0:-90).font("Inter, sans-serif").fontSize(e=>e.size).on("end",e=>{o(e)}).start()},[s,e]),e)?n?(0,a.jsx)("div",{className:"w-full h-[500px] flex items-center justify-center bg-gray-50 rounded-xl",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsx)("div",{className:"animate-spin h-10 w-10 border-4 border-primary-600 border-t-transparent rounded-full"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Loading medical terms..."})]})}):s?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-100",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Term Recall"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-700",children:[(100*s.summary.term_recall).toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-red-50 to-pink-50 p-4 rounded-lg border border-red-100",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Total Missed"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-700",children:s.summary.total_missed.toLocaleString()})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-lg border border-green-100",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Total Terms"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-700",children:s.summary.total_gt_terms.toLocaleString()})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 p-4 rounded-lg border border-yellow-100",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Hallucinated"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-700",children:s.summary.total_hallucinated.toLocaleString()})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"Most Frequently Missed Medical Terms"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Size indicates frequency of errors. Hover to see details."})]}),(0,a.jsxs)("div",{className:"w-full relative -mx-2",children:[(0,a.jsx)("svg",{ref:m,width:"100%",height:"600",viewBox:"0 0 1200 600",className:"mx-auto",preserveAspectRatio:"xMidYMid meet",children:(0,a.jsx)("g",{transform:"translate(600, 300)",children:d.map((e,t)=>(0,a.jsx)("text",{style:{fontSize:e.size,fontFamily:"Inter, sans-serif",fontWeight:"600",fill:h[t%h.length],cursor:"pointer",transition:"all 0.3s ease"},textAnchor:"middle",transform:"translate(".concat(e.x,",").concat(e.y,") rotate(").concat(e.rotate,")"),onMouseEnter:()=>x(e),onMouseLeave:()=>x(null),className:"hover:opacity-80",children:e.text},t))})}),c&&(0,a.jsxs)("div",{className:"absolute top-4 right-4 bg-gray-900 text-white px-4 py-3 rounded-lg shadow-xl z-10 min-w-[200px]",children:[(0,a.jsx)("p",{className:"font-semibold text-lg mb-2",children:c.text}),(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Missed:"}),(0,a.jsx)("span",{className:"font-semibold text-red-400",children:c.missed_count})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Total:"}),(0,a.jsx)("span",{className:"font-semibold",children:c.total_occurrences})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Miss Rate:"}),(0,a.jsxs)("span",{className:"font-semibold text-orange-400",children:[(100*c.miss_rate).toFixed(1),"%"]})]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Top 10 Most Problematic Terms"}),(0,a.jsx)("div",{className:"space-y-2",children:s.top_missed_terms_rare.slice(0,10).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"flex items-center justify-center w-6 h-6 bg-gradient-to-br from-blue-500 to-purple-600 text-white text-xs font-bold rounded-full",children:t+1}),(0,a.jsx)("span",{className:"font-semibold text-gray-800",children:e.term})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6 text-sm",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Missed"}),(0,a.jsx)("p",{className:"font-semibold text-red-600",children:e.missed_count})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Total"}),(0,a.jsx)("p",{className:"font-semibold text-gray-700",children:e.total_occurrences})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Miss Rate"}),(0,a.jsxs)("p",{className:"font-semibold text-orange-600",children:[(100*e.miss_rate).toFixed(1),"%"]})]})]})]},t))})]})]}):(0,a.jsx)("div",{className:"w-full h-[500px] flex items-center justify-center bg-gray-50 rounded-xl",children:(0,a.jsxs)("div",{className:"text-center text-gray-500",children:[(0,a.jsx)("p",{className:"text-lg font-semibold",children:"No term error data available"}),(0,a.jsx)("p",{className:"text-sm mt-2",children:"Run term_error_analysis.py to generate data"})]})}):(0,a.jsx)("div",{className:"w-full h-[500px] flex items-center justify-center bg-gray-50 rounded-xl",children:(0,a.jsx)("div",{className:"animate-spin h-10 w-10 border-4 border-primary-600 border-t-transparent rounded-full"})})}let k=e=>e.wer&&0!==e.wer.length?(console.log("✅ Loaded ".concat(e.wer.length," real samples from CSV data")),e):(console.log("⚠️ No real data found, using synthetic sample data"),console.log("\uD83D\uDCA1 Run `python convert_data.py` to use your actual CSV data"),A()),D=e=>{if(0===e.wer.length)return{avgWer:0,medianWer:0,p90Wer:0,highWerPct:0,avgDuration:0,avgWords:0,avgSpeakingRate:0,avgSnr:0};let t=F(e.wer),s=L(e.wer),a=C(e.wer,90),r=e.wer.filter(e=>e>=.5).length/e.wer.length*100,l=F(e.duration_sec);return{avgWer:t,medianWer:s,p90Wer:a,highWerPct:r,avgDuration:l,avgWords:F(e.word_count),avgSpeakingRate:F(e.speaking_rate),avgSnr:F(e.snr)}},F=e=>0===e.length?0:e.reduce((e,t)=>e+t,0)/e.length,L=e=>{if(0===e.length)return 0;let t=[...e].sort((e,t)=>e-t),s=Math.floor(t.length/2);return t.length%2==0?(t[s-1]+t[s])/2:t[s]},C=(e,t)=>{if(0===e.length)return 0;let s=[...e].sort((e,t)=>e-t),a=Math.ceil(t/100*s.length)-1;return s[Math.max(0,a)]},A=()=>{let e={wer:[],duration_sec:[],word_count:[],speaking_rate:[],energy:[],snr:[],zcr:[],spectral_centroid:[],silence_ratio:[],avg_word_len:[],char_count:[],pred_text:[],gt_text:[]};for(let t=0;t<500;t++){let s=5+45*Math.random(),a=Math.floor(s*(2+2*Math.random())),r=a/s,l=4+3*Math.random(),n=Math.floor(a*l),i=5+15*Math.random(),d=.001+.05*Math.random(),o=.05+.15*Math.random(),c=1e3+2e3*Math.random(),x=.05+.3*Math.random(),m=Math.max(0,Math.min(1,.2+Math.max(0,(s-20)*.005)+Math.max(0,(15-i)*.01)+Math.max(0,(r-3)*.02)+(Math.random()-.5)*.3));e.wer.push(m),e.duration_sec.push(s),e.word_count.push(a),e.speaking_rate.push(r),e.energy.push(d),e.snr.push(i),e.zcr.push(o),e.spectral_centroid.push(c),e.silence_ratio.push(x),e.avg_word_len.push(l),e.char_count.push(n),e.pred_text.push("Sample medical transcription ".concat(t," with predicted text about patient symptoms and diagnosis")),e.gt_text.push("Sample medical transcription ".concat(t," with ground truth text about patient symptoms and diagnosis"))}return e};function T(){var e,t,s,h;let[u,g]=(0,r.useState)(!1),[p,f]=(0,r.useState)("duration_sec"),[j,b]=(0,r.useState)("high"),[v,N]=(0,r.useState)(null),[w,R]=(0,r.useState)(null),[W,F]=(0,r.useState)(!1);(0,r.useEffect)(()=>{g(!0),fetch("/data/wer_data.json").then(e=>{if(!e.ok)throw Error("Data file not found");return e.json()}).then(e=>{console.log("✅ Loaded real data from wer_data.json");let t=k(e);N(t),R(D(t))}).catch(e=>{console.log("⚠️ Could not load real data, using synthetic sample data"),console.log("\uD83D\uDCA1 To use your actual data:"),console.log("   1. Run: python convert_data.py"),console.log("   2. Restart dashboard: npm run dev");let t=k({wer:[]});N(t),R(D(t))})},[]);let L=[{value:"duration_sec",label:"Duration (sec)"},{value:"speaking_rate",label:"Speaking Rate"},{value:"energy",label:"Energy"},{value:"snr",label:"Signal-to-Noise Ratio"},{value:"word_count",label:"Word Count"},{value:"avg_word_len",label:"Avg Word Length"},{value:"zcr",label:"Zero Crossing Rate"},{value:"spectral_centroid",label:"Spectral Centroid"},{value:"silence_ratio",label:"Silence Ratio"}];return u&&v&&w?(0,a.jsxs)("main",{className:"min-h-screen p-6 md:p-10",children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-2",children:"Medical ASR Analysis"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Word Error Rate (WER) Dashboard for MultiMed-ST Dataset"}),(0,a.jsx)("div",{className:"flex items-center gap-4 mt-2 text-sm",children:(0,a.jsxs)("p",{className:"text-gray-500",children:["\uD83D\uDCCA Data Showing for ",v.wer.length.toLocaleString()," samples"]})})]}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(m,{title:"Average WER",value:w.avgWer.toFixed(3),icon:(0,a.jsx)(l.Z,{className:"w-6 h-6"}),gradient:"card-gradient",tooltip:"Mean word error rate across all samples"}),(0,a.jsx)(m,{title:"Median WER",value:w.medianWer.toFixed(3),icon:(0,a.jsx)(n.Z,{className:"w-6 h-6"}),gradient:"card-gradient-blue",tooltip:"Median WER (robust to outliers)"}),(0,a.jsx)(m,{title:"90th %ile WER",value:w.p90Wer.toFixed(3),icon:(0,a.jsx)(i.Z,{className:"w-6 h-6"}),gradient:"card-gradient-orange",tooltip:"90th percentile WER — worst-case behavior"}),(0,a.jsx)(m,{title:"High-WER Rate",value:"".concat(w.highWerPct.toFixed(1),"%"),icon:(0,a.jsx)(i.Z,{className:"w-6 h-6"}),gradient:"card-gradient",tooltip:"Percentage of utterances with WER ≥ 0.5"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(m,{title:"Avg Duration",value:"".concat(w.avgDuration.toFixed(2),"s"),icon:(0,a.jsx)(d.Z,{className:"w-6 h-6"}),gradient:"card-gradient-blue",tooltip:"Average audio duration in seconds"}),(0,a.jsx)(m,{title:"Avg Word Count",value:w.avgWords.toFixed(1),icon:(0,a.jsx)(o.Z,{className:"w-6 h-6"}),gradient:"card-gradient-green",tooltip:"Average number of words per utterance"}),(0,a.jsx)(m,{title:"Speaking Rate",value:w.avgSpeakingRate.toFixed(2),icon:(0,a.jsx)(c.Z,{className:"w-6 h-6"}),gradient:"card-gradient-purple",tooltip:"Words spoken per second (speech tempo)"}),(0,a.jsx)(m,{title:"Avg SNR",value:w.avgSnr.toFixed(1),icon:(0,a.jsx)(x.Z,{className:"w-6 h-6"}),gradient:"card-gradient-orange",tooltip:"Average signal-to-noise ratio (higher is cleaner)"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)(S,{features:L,selectedFeature:p,onFeatureChange:e=>{F(!0),setTimeout(()=>{f(e),F(!1)},100)}}),W&&(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-sm text-primary-600",children:[(0,a.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-primary-600 border-t-transparent rounded-full"}),(0,a.jsx)("span",{children:"Updating charts..."})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 relative",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:["WER vs ",null===(e=L.find(e=>e.value===p))||void 0===e?void 0:e.label]}),W&&(0,a.jsx)("div",{className:"absolute inset-0 bg-white/80 flex items-center justify-center z-10 rounded-xl",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsx)("div",{className:"animate-spin h-10 w-10 border-4 border-primary-600 border-t-transparent rounded-full"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Loading chart..."})]})}),(0,a.jsx)(y,{data:v,xKey:p,yKey:"wer",xLabel:(null===(t=L.find(e=>e.value===p))||void 0===t?void 0:t.label)||"",yLabel:"WER"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 relative",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:[null===(s=L.find(e=>e.value===p))||void 0===s?void 0:s.label," ","Distribution"]}),W&&(0,a.jsx)("div",{className:"absolute inset-0 bg-white/80 flex items-center justify-center z-10 rounded-xl",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsx)("div",{className:"animate-spin h-10 w-10 border-4 border-primary-600 border-t-transparent rounded-full"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Loading chart..."})]})}),(0,a.jsx)(_,{data:"duration_sec"===p?v[p].filter(e=>e<=100):v[p],xLabel:(null===(h=L.find(e=>e.value===p))||void 0===h?void 0:h.label)||"",color:"#4facfe"}),"duration_sec"===p&&v.duration_sec.filter(e=>e>400).length>0&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:[v.duration_sec.filter(e=>e>400).length," ","outliers (duration ",">"," 400s) excluded"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"WER Distribution"}),(0,a.jsx)(_,{data:v.wer.filter(e=>e<=5),xLabel:"WER",color:"#667eea"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,a.jsx)(M,{data:v,filter:j,onFilterChange:b})})]}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)(E,{})}),(0,a.jsxs)("div",{className:"text-center py-8 text-gray-600",children:[(0,a.jsx)("p",{className:"text-sm",children:"Medical ASR Dashboard | MultiMed-ST Dataset | Whisper Model Analysis"}),(0,a.jsx)("p",{className:"text-xs mt-2",children:"Built with Next.js, React, and Recharts"})]})]})]}):(0,a.jsx)("main",{className:"min-h-screen p-6 md:p-10",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Loading Dashboard..."}),(0,a.jsx)("p",{className:"text-gray-600",children:"Please wait"})]})})})})})}}},function(e){e.O(0,[539,971,117,744],function(){return e(e.s=9467)}),_N_E=e.O()}]);